<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ›’ Carrito - PanaderÃ­a NavideÃ±a</title>
<link rel="stylesheet" href="/css/carrito.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

<div class="header">
<div class="header-content">
<h1>ğŸ¥ PanaderÃ­a La Desesperanza</h1>
<div class="nav-links">
<a href="/productos.html">Productos</a>
<a href="/carrito.html">Carrito</a>
<a href="/perfil.html">Mi Perfil</a>
<button class="btn-logout" onclick="cerrarSesion()">Cerrar SesiÃ³n</button>
</div>
</div>
</div>

<div class="container">
<h2 class="titulo-carrito">ğŸ›’ Mi Carrito de Compras</h2>
<div id="mensaje"></div>
<div class="carrito-contenido">
<div id="carritoItems" class="carrito-items"></div>
<div id="carritoResumen" class="carrito-resumen" style="display: none;">
<div class="resumen-card">
<h3>ğŸ“‹ Resumen de Compra</h3>
<div class="resumen-detalle">
<div class="resumen-linea">
<span>Subtotal:</span>
<span class="resumen-precio">$<span id="subtotalMonto">0.00</span></span>
</div>
<div class="resumen-linea total-linea">
<span>Total a Pagar:</span>
<span class="resumen-total">$<span id="totalMonto">0.00</span></span>
</div>
</div>
<button class="btn btn-comprar" onclick="procesarCompra()">
âœ… Procesar Compra
</button>
<button class="btn btn-vaciar" onclick="vaciarCarrito()">
ğŸ—‘ï¸ Vaciar Carrito
</button>
</div>
</div>
</div>
</div>

<div id="modalTicket" class="modal-overlay">
<div class="modal-content">
<div class="ticket">
<div class="ticket-header">
<h2>ğŸ§¾ Ticket de Compra</h2>
<div class="ticket-logo">ğŸ¥</div>
</div>
<div class="ticket-info">
<p class="ticket-empresa">PanaderÃ­a La Desesperanza</p>
<p class="ticket-slogan">Hecho con amor y mantequilla âœ¨</p>
<hr>
<div class="ticket-datos">
<p><strong>ğŸ”¢ NÃºmero de Venta:</strong> <span id="ticketNumero"></span></p>
<p><strong>ğŸ“… Fecha:</strong> <span id="ticketFecha"></span></p>
</div>
</div>
<div class="ticket-productos">
<h3>ğŸ§ Productos Comprados</h3>
<ul id="ticketProductos"></ul>
</div>
<hr>
<div class="ticket-total">
<span>Total Pagado:</span>
<span class="ticket-total-monto">$<span id="ticketTotal">0.00</span></span>
</div>
<div class="ticket-footer">
<p>Â¡Gracias por su compra!</p>
<p>Que disfrute sus productos ğŸ„</p>
</div>
<button class="btn btn-cerrar-ticket" onclick="cerrarTicket()">
âœ“ Cerrar
</button>
</div>
</div>
</div>

<footer class="footer">
<div class="footer-container">
<div class="footer-brand">
<h3>ğŸ¥ PanaderÃ­a La Desesperanza</h3>
<p>Hecho con amor, mantequilla y espÃ­ritu navideÃ±o.</p>
</div>
<div class="footer-contact">
<h4>Contacto</h4>
<p>ğŸ“ ZÃ³calo, Centro HistÃ³rico, CDMX</p>
<p>ğŸ“ 55 0000 0000</p>
<p>âœ‰ï¸ panaderialadesesperanza@gmail.com</p>
</div>
</div>

<div class="footer-mapa">
<h4>ğŸ“ EncuÃ©ntranos</h4>
<div id="mapa" style="height: 300px; border-radius: 15px; overflow: hidden;"></div>
</div>

<div class="footer-bottom">
Â© 2026 PanaderÃ­a La Desesperanza Â· Todos los derechos reservados
</div>
</footer>

<script>
if (document.getElementById('mapa')) {
  const mapa = L.map('mapa').setView([19.4326, -99.1332], 16);
  
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap contributors'
  }).addTo(mapa);
  
  const marker = L.marker([19.4326, -99.1332]).addTo(mapa);
  marker.bindPopup('<b>ğŸ¥ PanaderÃ­a La Desesperanza</b><br>ZÃ³calo, Centro HistÃ³rico').openPopup();
}
</script>

<script src="/js/carrito.js"></script>
</body>
</html>